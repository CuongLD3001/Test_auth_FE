{"ast":null,"code":"import { ref, onMounted, watchEffect } from \"vue\";\nimport { fetchData } from \"@/utils/axiosFetchApi\";\nexport default {\n  __name: 'SlideShow',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const images = ref([]);\n    const currentIndex = ref(0);\n    const isRunning = ref(false);\n    const delay = ref(5000);\n    const inputDelay = ref(\"\");\n    onMounted(() => {\n      fetchImages();\n    });\n    const fetchImages = async () => {\n      try {\n        const data = await fetchData(process.env.VUE_APP_URL + \"/api/images\");\n        images.value = data;\n      } catch (error) {\n        console.error(\"Error fetching images:\", error);\n      }\n    };\n    const startSlideShow = () => {\n      isRunning.value = true;\n    };\n    const stopSlideShow = () => {\n      isRunning.value = false;\n    };\n    const speedUp = () => {\n      delay.value = delay.value > 1000 ? delay.value - 1000 : 1000;\n    };\n    const speedDown = () => {\n      delay.value += 1000;\n    };\n    const setCustomDelay = () => {\n      const newDelay = parseInt(inputDelay.value, 10);\n      if (!isNaN(newDelay) && newDelay >= 1000) {\n        delay.value = newDelay;\n      }\n    };\n    watchEffect(() => {\n      if (isRunning.value) {\n        startInterval();\n      } else {\n        stopInterval();\n      }\n    });\n    let interval = null;\n    const startInterval = () => {\n      interval = setInterval(() => {\n        currentIndex.value = currentIndex.value === images.value.length - 1 ? 0 : currentIndex.value + 1;\n      }, delay.value);\n    };\n    const stopInterval = () => {\n      clearInterval(interval);\n    };\n    const __returned__ = {\n      images,\n      currentIndex,\n      isRunning,\n      delay,\n      inputDelay,\n      fetchImages,\n      startSlideShow,\n      stopSlideShow,\n      speedUp,\n      speedDown,\n      setCustomDelay,\n      get interval() {\n        return interval;\n      },\n      set interval(v) {\n        interval = v;\n      },\n      startInterval,\n      stopInterval,\n      ref,\n      onMounted,\n      watchEffect,\n      get fetchData() {\n        return fetchData;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","watchEffect","fetchData","images","currentIndex","isRunning","delay","inputDelay","fetchImages","data","process","env","VUE_APP_URL","value","error","console","startSlideShow","stopSlideShow","speedUp","speedDown","setCustomDelay","newDelay","parseInt","isNaN","startInterval","stopInterval","interval","setInterval","length","clearInterval"],"sources":["/home/cuongld/Desktop/VueJS/vue3_action/src/views/SlideShow.vue"],"sourcesContent":["<template>\n  <div>\n    <div>\n      <button @click=\"startSlideShow\">Start</button>\n      <button @click=\"stopSlideShow\">Stop</button>\n      <button @click=\"speedUp\">Speed Up</button>\n      <button @click=\"speedDown\">Speed Down</button>\n      <input\n        v-model=\"inputDelay\"\n        type=\"number\"\n        placeholder=\"Custom delay (ms)\"\n      />\n      <button @click=\"setCustomDelay\">Set Delay</button>\n    </div>\n    <div>\n      <img v-if=\"images.length > 0\" :src=\"images[currentIndex].url\" alt=\"\" />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, watchEffect } from \"vue\";\nimport { fetchData } from \"@/utils/axiosFetchApi\";\n\nconst images = ref([]);\nconst currentIndex = ref(0);\nconst isRunning = ref(false);\nconst delay = ref(5000);\nconst inputDelay = ref(\"\");\n\nonMounted(() => {\n  fetchImages();\n});\n\nconst fetchImages = async () => {\n  try {\n    const data = await fetchData(process.env.VUE_APP_URL + \"/api/images\");\n    images.value = data;\n  } catch (error) {\n    console.error(\"Error fetching images:\", error);\n  }\n};\n\nconst startSlideShow = () => {\n  isRunning.value = true;\n};\n\nconst stopSlideShow = () => {\n  isRunning.value = false;\n};\n\nconst speedUp = () => {\n  delay.value = delay.value > 1000 ? delay.value - 1000 : 1000;\n};\n\nconst speedDown = () => {\n  delay.value += 1000;\n};\n\nconst setCustomDelay = () => {\n  const newDelay = parseInt(inputDelay.value, 10);\n  if (!isNaN(newDelay) && newDelay >= 1000) {\n    delay.value = newDelay;\n  }\n};\n\nwatchEffect(() => {\n  if (isRunning.value) {\n    startInterval();\n  } else {\n    stopInterval();\n  }\n});\n\nlet interval = null;\n\nconst startInterval = () => {\n  interval = setInterval(() => {\n    currentIndex.value =\n      currentIndex.value === images.value.length - 1\n        ? 0\n        : currentIndex.value + 1;\n  }, delay.value);\n};\n\nconst stopInterval = () => {\n  clearInterval(interval);\n};\n</script>\n\n<style scoped>\n/* Các quy tắc CSS cho component SlideShow */\n</style>\n"],"mappings":"AAqBA,SAASA,GAAG,EAAEC,SAAS,EAAEC,WAAW,QAAQ,KAAK;AACjD,SAASC,SAAS,QAAQ,uBAAuB;;;;;;;IAEjD,MAAMC,MAAM,GAAGJ,GAAG,CAAC,EAAE,CAAC;IACtB,MAAMK,YAAY,GAAGL,GAAG,CAAC,CAAC,CAAC;IAC3B,MAAMM,SAAS,GAAGN,GAAG,CAAC,KAAK,CAAC;IAC5B,MAAMO,KAAK,GAAGP,GAAG,CAAC,IAAI,CAAC;IACvB,MAAMQ,UAAU,GAAGR,GAAG,CAAC,EAAE,CAAC;IAE1BC,SAAS,CAAC,MAAM;MACdQ,WAAW,CAAC,CAAC;IACf,CAAC,CAAC;IAEF,MAAMA,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACF,MAAMC,IAAI,GAAG,MAAMP,SAAS,CAACQ,OAAO,CAACC,GAAG,CAACC,WAAW,GAAG,aAAa,CAAC;QACrET,MAAM,CAACU,KAAK,GAAGJ,IAAI;MACrB,CAAC,CAAC,OAAOK,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAChD;IACF,CAAC;IAED,MAAME,cAAc,GAAGA,CAAA,KAAM;MAC3BX,SAAS,CAACQ,KAAK,GAAG,IAAI;IACxB,CAAC;IAED,MAAMI,aAAa,GAAGA,CAAA,KAAM;MAC1BZ,SAAS,CAACQ,KAAK,GAAG,KAAK;IACzB,CAAC;IAED,MAAMK,OAAO,GAAGA,CAAA,KAAM;MACpBZ,KAAK,CAACO,KAAK,GAAGP,KAAK,CAACO,KAAK,GAAG,IAAI,GAAGP,KAAK,CAACO,KAAK,GAAG,IAAI,GAAG,IAAI;IAC9D,CAAC;IAED,MAAMM,SAAS,GAAGA,CAAA,KAAM;MACtBb,KAAK,CAACO,KAAK,IAAI,IAAI;IACrB,CAAC;IAED,MAAMO,cAAc,GAAGA,CAAA,KAAM;MAC3B,MAAMC,QAAQ,GAAGC,QAAQ,CAACf,UAAU,CAACM,KAAK,EAAE,EAAE,CAAC;MAC/C,IAAI,CAACU,KAAK,CAACF,QAAQ,CAAC,IAAIA,QAAQ,IAAI,IAAI,EAAE;QACxCf,KAAK,CAACO,KAAK,GAAGQ,QAAQ;MACxB;IACF,CAAC;IAEDpB,WAAW,CAAC,MAAM;MAChB,IAAII,SAAS,CAACQ,KAAK,EAAE;QACnBW,aAAa,CAAC,CAAC;MACjB,CAAC,MAAM;QACLC,YAAY,CAAC,CAAC;MAChB;IACF,CAAC,CAAC;IAEF,IAAIC,QAAQ,GAAG,IAAI;IAEnB,MAAMF,aAAa,GAAGA,CAAA,KAAM;MAC1BE,QAAQ,GAAGC,WAAW,CAAC,MAAM;QAC3BvB,YAAY,CAACS,KAAK,GAChBT,YAAY,CAACS,KAAK,KAAKV,MAAM,CAACU,KAAK,CAACe,MAAM,GAAG,CAAC,GAC1C,CAAC,GACDxB,YAAY,CAACS,KAAK,GAAG,CAAC;MAC9B,CAAC,EAAEP,KAAK,CAACO,KAAK,CAAC;IACjB,CAAC;IAED,MAAMY,YAAY,GAAGA,CAAA,KAAM;MACzBI,aAAa,CAACH,QAAQ,CAAC;IACzB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}