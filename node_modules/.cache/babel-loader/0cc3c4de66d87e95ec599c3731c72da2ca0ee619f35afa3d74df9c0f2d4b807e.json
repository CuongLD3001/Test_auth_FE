{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-c54b86f8\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"p-4\"\n};\nconst _hoisted_2 = {\n  class: \"flex space-x-4 mb-4\"\n};\nconst _hoisted_3 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"button\", {\n    onClick: $setup.startSlideShow,\n    class: \"button start\"\n  }, \"Start\"), _createElementVNode(\"button\", {\n    onClick: $setup.stopSlideShow,\n    class: \"button stop\"\n  }, \"Stop\"), _createElementVNode(\"button\", {\n    onClick: $setup.speedUp,\n    class: \"button speed-up\"\n  }, \"Speed Up\"), _createElementVNode(\"button\", {\n    onClick: $setup.speedDown,\n    class: \"button speed-down\"\n  }, \"Speed Down\"), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.inputDelay = $event),\n    type: \"number\",\n    placeholder: \"Custom delay (ms)\",\n    class: \"input\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.inputDelay]]), _createElementVNode(\"button\", {\n    onClick: $setup.setCustomDelay,\n    class: \"button set-delay\"\n  }, \" Set Delay \")]), _createElementVNode(\"div\", null, [$setup.images.length > 0 ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: $setup.images[$setup.currentIndex].url,\n    alt: \"\",\n    class: \"max-w-full\"\n  }, null, 8 /* PROPS */, _hoisted_3)) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","$setup","startSlideShow","stopSlideShow","speedUp","speedDown","inputDelay","$event","type","placeholder","setCustomDelay","images","length","src","currentIndex","url","alt"],"sources":["/home/cuongld/Desktop/VueJS/vue3_action/src/views/SlideShow.vue"],"sourcesContent":["<template>\n  <div class=\"p-4\">\n    <div class=\"flex space-x-4 mb-4\">\n      <button @click=\"startSlideShow\" class=\"button start\">Start</button>\n      <button @click=\"stopSlideShow\" class=\"button stop\">Stop</button>\n      <button @click=\"speedUp\" class=\"button speed-up\">Speed Up</button>\n      <button @click=\"speedDown\" class=\"button speed-down\">Speed Down</button>\n      <input\n        v-model=\"inputDelay\"\n        type=\"number\"\n        placeholder=\"Custom delay (ms)\"\n        class=\"input\"\n      />\n      <button @click=\"setCustomDelay\" class=\"button set-delay\">\n        Set Delay\n      </button>\n    </div>\n    <div>\n      <img\n        v-if=\"images.length > 0\"\n        :src=\"images[currentIndex].url\"\n        alt=\"\"\n        class=\"max-w-full\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, watchEffect } from \"vue\";\nimport { fetchData } from \"@/utils/axiosFetchApi\";\n\nconst images = ref([]);\nconst currentIndex = ref(0);\nconst isRunning = ref(false);\nconst delay = ref(5000);\nconst inputDelay = ref(\"\");\nlet interval = null;\n\nconst fetchImages = async () => {\n  try {\n    const data = await fetchData(\n      process.env.VUE_APP_URL + \"/api/images\",\n      \"GET\",\n      null,\n      {\n        Authorization:\n          \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJob2FuZy5tYW5oLmtodWF0QGdtYWlsLmNvbSIsImlhdCI6MTcwMzcxNTk5MCwiZXhwIjoxNzAzODAyMzkwfQ\",\n      }\n    );\n    images.value = data.images;\n    console.log(\"Fetched images:\", images.value);\n  } catch (error) {\n    console.error(\"Error fetching images:\", error);\n  }\n};\n\nconst startInterval = () => {\n  stopInterval(); // Stop the previous interval\n  interval = setInterval(() => {\n    if (images.value.length === 0) {\n      console.warn(\"No images available\");\n      return;\n    }\n\n    currentIndex.value = (currentIndex.value + 1) % images.value.length;\n    console.log(\"Current index:\", currentIndex.value);\n  }, delay.value);\n  console.log(\"Interval started with delay:\", delay.value);\n};\n\nconst stopInterval = () => {\n  clearInterval(interval);\n  console.log(\"Interval stopped\");\n};\n\nconst startSlideShow = () => {\n  isRunning.value = true;\n  console.log(\"Slide show started\");\n  startInterval();\n};\n\nconst stopSlideShow = () => {\n  isRunning.value = false;\n  console.log(\"Slide show stopped\");\n  stopInterval();\n};\n\nconst speedUp = () => {\n  delay.value = delay.value > 1000 ? delay.value - 1000 : 1000;\n  console.log(\"Speed increased. New delay:\", delay.value);\n  if (isRunning.value) {\n    startInterval();\n  }\n};\n\nconst speedDown = () => {\n  delay.value += 1000;\n  console.log(\"Speed decreased. New delay:\", delay.value);\n  if (isRunning.value) {\n    startInterval();\n  }\n};\n\nconst setCustomDelay = () => {\n  const newDelay = parseInt(inputDelay.value, 10);\n  if (!isNaN(newDelay) && newDelay >= 1000) {\n    delay.value = newDelay;\n    console.log(\"Custom delay set:\", delay.value);\n    inputDelay.value = \"\";\n    if (isRunning.value) {\n      startInterval();\n    }\n  }\n};\n\nonMounted(() => {\n  fetchImages();\n  console.log(\"Component mounted\");\n});\n\nwatchEffect(() => {\n  if (isRunning.value) {\n    startInterval();\n  } else {\n    stopInterval();\n  }\n  console.log(\"isRunning:\", isRunning.value);\n});\n</script>\n\n<style scoped>\n.button {\n  background-color: #4a5568;\n  color: #ffffff;\n  font-weight: bold;\n  padding: 0.5rem 1rem;\n  border-radius: 0.25rem;\n  cursor: pointer;\n}\n\n.button:hover {\n  background-color: #2d3748;\n}\n\n.start {\n  background-color: #3490dc;\n}\n\n.stop {\n  background-color: #e3342f;\n}\n\n.speed-up {\n  background-color: #38a169;\n}\n\n.speed-down {\n  background-color: #f6993f;\n}\n\n.input {\n  border: 1px solid #cbd5e0; /* Set your desired border color */\n  border-radius: 0.25rem;\n  padding: 0.5rem;\n}\n\n.set-delay {\n  background-color: #805ad5;\n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAK;;EACTA,KAAK,EAAC;AAAqB;;;uBADlCC,mBAAA,CAwBM,OAxBNC,UAwBM,GAvBJC,mBAAA,CAcM,OAdNC,UAcM,GAbJD,mBAAA,CAAmE;IAA1DE,OAAK,EAAEC,MAAA,CAAAC,cAAc;IAAEP,KAAK,EAAC;KAAe,OAAK,GAC1DG,mBAAA,CAAgE;IAAvDE,OAAK,EAAEC,MAAA,CAAAE,aAAa;IAAER,KAAK,EAAC;KAAc,MAAI,GACvDG,mBAAA,CAAkE;IAAzDE,OAAK,EAAEC,MAAA,CAAAG,OAAO;IAAET,KAAK,EAAC;KAAkB,UAAQ,GACzDG,mBAAA,CAAwE;IAA/DE,OAAK,EAAEC,MAAA,CAAAI,SAAS;IAAEV,KAAK,EAAC;KAAoB,YAAU,G,gBAC/DG,mBAAA,CAKE;+DAJSG,MAAA,CAAAK,UAAU,GAAAC,MAAA;IACnBC,IAAI,EAAC,QAAQ;IACbC,WAAW,EAAC,mBAAmB;IAC/Bd,KAAK,EAAC;iDAHGM,MAAA,CAAAK,UAAU,E,GAKrBR,mBAAA,CAES;IAFAE,OAAK,EAAEC,MAAA,CAAAS,cAAc;IAAEf,KAAK,EAAC;KAAmB,aAEzD,E,GAEFG,mBAAA,CAOM,cALIG,MAAA,CAAAU,MAAM,CAACC,MAAM,Q,cADrBhB,mBAAA,CAKE;;IAHCiB,GAAG,EAAEZ,MAAA,CAAAU,MAAM,CAACV,MAAA,CAAAa,YAAY,EAAEC,GAAG;IAC9BC,GAAG,EAAC,EAAE;IACNrB,KAAK,EAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}