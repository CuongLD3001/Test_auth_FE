{"ast":null,"code":"import { fetchData } from \"@/api\"; // Đảm bảo import fetchData từ file api của bạn\n\nexport default {\n  data() {\n    return {\n      images: [],\n      currentIndex: 0,\n      isRunning: false,\n      delay: 5000,\n      // Mặc định 5 giây\n      inputDelay: \"\"\n    };\n  },\n  mounted() {\n    // Gọi API để lấy danh sách ảnh từ backend\n    this.fetchImages();\n  },\n  methods: {\n    async fetchImages() {\n      try {\n        const data = await fetchData(process.env.VUE_APP_URL + \"/api/images\");\n        this.images = data;\n      } catch (error) {\n        console.error(\"Error fetching images:\", error);\n      }\n    },\n    startSlideShow() {\n      this.isRunning = true;\n    },\n    stopSlideShow() {\n      this.isRunning = false;\n    },\n    speedUp() {\n      this.delay = this.delay > 1000 ? this.delay - 1000 : 1000;\n    },\n    speedDown() {\n      this.delay += 1000;\n    },\n    setCustomDelay() {\n      const newDelay = parseInt(this.inputDelay, 10);\n      if (!isNaN(newDelay) && newDelay >= 1000) {\n        this.delay = newDelay;\n      }\n    }\n  },\n  watch: {\n    isRunning: function (newVal) {\n      if (newVal) {\n        this.startInterval();\n      } else {\n        this.stopInterval();\n      }\n    }\n  },\n  beforeUnmount() {\n    this.stopInterval();\n  },\n  methods: {\n    startInterval() {\n      this.interval = setInterval(() => {\n        this.currentIndex = this.currentIndex === this.images.length - 1 ? 0 : this.currentIndex + 1;\n      }, this.delay);\n    },\n    stopInterval() {\n      clearInterval(this.interval);\n    }\n  }\n};","map":{"version":3,"names":["fetchData","data","images","currentIndex","isRunning","delay","inputDelay","mounted","fetchImages","methods","process","env","VUE_APP_URL","error","console","startSlideShow","stopSlideShow","speedUp","speedDown","setCustomDelay","newDelay","parseInt","isNaN","watch","newVal","startInterval","stopInterval","beforeUnmount","interval","setInterval","length","clearInterval"],"sources":["/home/cuongld/Desktop/VueJS/vue3_action/src/views/HomeView.vue"],"sourcesContent":["<template>\n  <div>\n    <div>\n      <button @click=\"startSlideShow\">Start</button>\n      <button @click=\"stopSlideShow\">Stop</button>\n      <button @click=\"speedUp\">Speed Up</button>\n      <button @click=\"speedDown\">Speed Down</button>\n      <input\n        v-model=\"inputDelay\"\n        type=\"number\"\n        placeholder=\"Custom delay (ms)\"\n      />\n      <button @click=\"setCustomDelay\">Set Delay</button>\n    </div>\n    <div>\n      <img v-if=\"images.length > 0\" :src=\"images[currentIndex].url\" alt=\"\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { fetchData } from \"@/api\"; // Đảm bảo import fetchData từ file api của bạn\n\nexport default {\n  data() {\n    return {\n      images: [],\n      currentIndex: 0,\n      isRunning: false,\n      delay: 5000, // Mặc định 5 giây\n      inputDelay: \"\",\n    };\n  },\n  mounted() {\n    // Gọi API để lấy danh sách ảnh từ backend\n    this.fetchImages();\n  },\n  methods: {\n    async fetchImages() {\n      try {\n        const data = await fetchData(process.env.VUE_APP_URL + \"/api/images\");\n        this.images = data;\n      } catch (error) {\n        console.error(\"Error fetching images:\", error);\n      }\n    },\n    startSlideShow() {\n      this.isRunning = true;\n    },\n    stopSlideShow() {\n      this.isRunning = false;\n    },\n    speedUp() {\n      this.delay = this.delay > 1000 ? this.delay - 1000 : 1000;\n    },\n    speedDown() {\n      this.delay += 1000;\n    },\n    setCustomDelay() {\n      const newDelay = parseInt(this.inputDelay, 10);\n      if (!isNaN(newDelay) && newDelay >= 1000) {\n        this.delay = newDelay;\n      }\n    },\n  },\n  watch: {\n    isRunning: function (newVal) {\n      if (newVal) {\n        this.startInterval();\n      } else {\n        this.stopInterval();\n      }\n    },\n  },\n  beforeUnmount() {\n    this.stopInterval();\n  },\n  methods: {\n    startInterval() {\n      this.interval = setInterval(() => {\n        this.currentIndex =\n          this.currentIndex === this.images.length - 1\n            ? 0\n            : this.currentIndex + 1;\n      }, this.delay);\n    },\n    stopInterval() {\n      clearInterval(this.interval);\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* Các quy tắc CSS cho component SlideShow */\n</style>\n"],"mappings":"AAqBA,SAASA,SAAQ,QAAS,OAAO,EAAE;;AAEnC,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE,EAAE;MACVC,YAAY,EAAE,CAAC;MACfC,SAAS,EAAE,KAAK;MAChBC,KAAK,EAAE,IAAI;MAAE;MACbC,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR;IACA,IAAI,CAACC,WAAW,CAAC,CAAC;EACpB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,WAAWA,CAAA,EAAG;MAClB,IAAI;QACF,MAAMP,IAAG,GAAI,MAAMD,SAAS,CAACU,OAAO,CAACC,GAAG,CAACC,WAAU,GAAI,aAAa,CAAC;QACrE,IAAI,CAACV,MAAK,GAAID,IAAI;MACpB,EAAE,OAAOY,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAChD;IACF,CAAC;IACDE,cAAcA,CAAA,EAAG;MACf,IAAI,CAACX,SAAQ,GAAI,IAAI;IACvB,CAAC;IACDY,aAAaA,CAAA,EAAG;MACd,IAAI,CAACZ,SAAQ,GAAI,KAAK;IACxB,CAAC;IACDa,OAAOA,CAAA,EAAG;MACR,IAAI,CAACZ,KAAI,GAAI,IAAI,CAACA,KAAI,GAAI,IAAG,GAAI,IAAI,CAACA,KAAI,GAAI,IAAG,GAAI,IAAI;IAC3D,CAAC;IACDa,SAASA,CAAA,EAAG;MACV,IAAI,CAACb,KAAI,IAAK,IAAI;IACpB,CAAC;IACDc,cAAcA,CAAA,EAAG;MACf,MAAMC,QAAO,GAAIC,QAAQ,CAAC,IAAI,CAACf,UAAU,EAAE,EAAE,CAAC;MAC9C,IAAI,CAACgB,KAAK,CAACF,QAAQ,KAAKA,QAAO,IAAK,IAAI,EAAE;QACxC,IAAI,CAACf,KAAI,GAAIe,QAAQ;MACvB;IACF;EACF,CAAC;EACDG,KAAK,EAAE;IACLnB,SAAS,EAAE,SAAAA,CAAUoB,MAAM,EAAE;MAC3B,IAAIA,MAAM,EAAE;QACV,IAAI,CAACC,aAAa,CAAC,CAAC;MACtB,OAAO;QACL,IAAI,CAACC,YAAY,CAAC,CAAC;MACrB;IACF;EACF,CAAC;EACDC,aAAaA,CAAA,EAAG;IACd,IAAI,CAACD,YAAY,CAAC,CAAC;EACrB,CAAC;EACDjB,OAAO,EAAE;IACPgB,aAAaA,CAAA,EAAG;MACd,IAAI,CAACG,QAAO,GAAIC,WAAW,CAAC,MAAM;QAChC,IAAI,CAAC1B,YAAW,GACd,IAAI,CAACA,YAAW,KAAM,IAAI,CAACD,MAAM,CAAC4B,MAAK,GAAI,IACvC,IACA,IAAI,CAAC3B,YAAW,GAAI,CAAC;MAC7B,CAAC,EAAE,IAAI,CAACE,KAAK,CAAC;IAChB,CAAC;IACDqB,YAAYA,CAAA,EAAG;MACbK,aAAa,CAAC,IAAI,CAACH,QAAQ,CAAC;IAC9B;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}